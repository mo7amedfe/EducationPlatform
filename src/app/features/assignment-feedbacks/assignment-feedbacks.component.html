<div class="container py-4">
  <h2 class="mb-4">Assignment Feedbacks</h2>

  <!-- Course Filter -->
  <div class="mb-4">
    <label for="courseFilter" class="form-label fw-bold">Filter by Course</label>
    <select id="courseFilter" class="form-select" [(ngModel)]="selectedCourse">
      <option value="">All Courses</option>
      <option *ngFor="let course of courses" [value]="course">{{ course }}</option>
    </select>
  </div>

  <div *ngIf="filteredFeedbacks.length > 0; else noFeedbacks">
    <div *ngFor="let feedback of filteredFeedbacks" class="card mb-3 shadow-sm">
      <div class="card-body">
        <h5 class="card-title">{{ feedback.courseName }}</h5>
        <p class="mb-1"><strong>Lesson:</strong> {{ feedback.lessonTitle }}</p>
        <!-- <p class="mb-1"><strong>Student:</strong> {{ feedback.studentName }} ({{ feedback.studentEmail }})</p> -->
        <p class="mb-1"><strong>Submitted At:</strong> {{ feedback.submittedAt | date:'medium' }}</p>
        <p class="mb-1"><strong>Status:</strong>
          <span class="badge" [ngClass]="{
            'bg-success': feedback.status === 'graded',
            'bg-warning': feedback.status !== 'graded'
          }">{{ feedback.status }}</span>
        </p>
        <p class="mb-1"><strong>Rating:</strong> {{ feedback.rating }}</p>
        <p class="mb-1"><strong>Feedback:</strong> {{ feedback.feedback || 'No feedback yet.' }}</p>
        <p class="mb-1"><strong>Reviewer Name:</strong> {{ feedback.reviewerName || "unknown" }}</p>
        <p class="mb-1"><strong>Reviewer Email:</strong> {{ feedback.reviewerEmail || "unknown" }}</p>
      </div>
    </div>
  </div>
  <ng-template #noFeedbacks>
    <div class="alert alert-info text-center">No feedbacks found.</div>
  </ng-template>
</div>